const glob = require('glob')

var ALPHABET = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';
var ID_LENGTH = 8;

function generate() {
  var rtn = '';
  for (var i = 0; i < ID_LENGTH; i++) {
    rtn += ALPHABET.charAt(Math.floor(Math.random() * ALPHABET.length));
  }
  return rtn;
}

module.exports = function (cwd) {
  return glob.sync("**/*.vue", { cwd, ignore: ['node_modules/**', 'common/**'] })
    .map(path => ({
      path,
      id: generate()
    }))
}